<template>
  <div class="WinCtrlBar">
    <div id="ctrl-fix" :class="fix?'fix':''" @click="setFix" >
      <svg width="16" height="16" viewBox="0 0 16 16" fill="#575757" xmlns="http://www.w3.org/2000/svg">
        <path d="M13.461 10.5406C13.461 10.7047 13.4017 10.8484 13.2813 10.9672C13.161 11.0875 13.0188 11.1469 12.8548 11.1469H8.7876L8.30322 15.7281C8.29072 15.8031 8.25791 15.8703 8.20322 15.9219C8.1501 15.975 8.08447 16 8.00947 16H8.0001C7.82822 16 7.72822 15.9156 7.69697 15.7453L6.97666 11.1453H3.14385C2.97979 11.1453 2.83604 11.0859 2.71729 10.9656C2.59697 10.8453 2.5376 10.7031 2.5376 10.5391C2.5376 9.7625 2.78447 9.0625 3.28135 8.43906C3.28604 8.43281 3.29072 8.42657 3.29697 8.42032C4.37353 7.09219 4.96416 5.43594 4.96416 3.725V3.68907C4.96416 3.19063 4.71104 2.72969 4.3001 2.44688C4.23447 2.40157 4.17197 2.34844 4.11104 2.28907C3.87197 2.05157 3.7501 1.76563 3.7501 1.4375C3.7501 1.10782 3.87041 0.826566 4.11104 0.582816C4.3501 0.343753 4.63603 0.221878 4.96416 0.221878H11.0329C11.3626 0.221878 11.6438 0.342191 11.8876 0.582816C12.1267 0.823441 12.2485 1.10782 12.2485 1.4375C12.2485 1.76719 12.1282 2.04844 11.8876 2.29219C11.8267 2.35313 11.7626 2.40625 11.697 2.45313C11.286 2.73438 11.0345 3.19532 11.0345 3.69375V3.72657C11.0345 5.43282 11.6173 7.0875 12.6938 8.41094C12.7017 8.42031 12.7095 8.42969 12.7173 8.44063C13.2126 9.0625 13.461 9.7625 13.461 10.5406Z"/>
      </svg>
    </div>
    <div id="ctrl-minimize" @click="switch_btn('minimize')">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M14.4217 8.92188H2.04199C1.61074 8.92188 1.26074 8.57187 1.26074 8.14062C1.26074 7.70937 1.61074 7.35938 2.04199 7.35938H14.4217C14.8529 7.35938 15.2029 7.70937 15.2029 8.14062C15.2029 8.57187 14.8529 8.92188 14.4217 8.92188Z" fill="#575757"/>
      </svg>
    </div>
    <div id="ctrl-maximize" @click="switch_btn('maximize')">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12.6908 1.01562H5.49395C4.27051 1.01562 3.26738 1.97031 3.18613 3.17344C1.98301 3.25313 1.02832 4.25781 1.02832 5.48125V12.6781C1.02832 13.9531 2.06582 14.9906 3.34082 14.9906H10.5377C11.7611 14.9906 12.7643 14.0359 12.8455 12.8328C14.0486 12.7531 15.0033 11.7484 15.0033 10.525V3.32813C15.0033 2.05313 13.9658 1.01562 12.6908 1.01562V1.01562ZM11.9752 12.6766C11.9752 13.4688 11.3299 14.1141 10.5377 14.1141H3.34082C2.54863 14.1141 1.90332 13.4688 1.90332 12.6766V5.47969C1.90332 4.6875 2.54863 4.04219 3.34082 4.04219H10.5377C11.3299 4.04219 11.9752 4.6875 11.9752 5.47969V12.6766ZM14.1283 10.525C14.1283 11.2641 13.5689 11.8734 12.8502 11.9531V5.47969C12.8502 4.20469 11.8127 3.16719 10.5377 3.16719H4.06582C4.14551 2.45 4.75645 1.88906 5.49395 1.88906H12.6908C13.483 1.88906 14.1283 2.53438 14.1283 3.32656V10.525Z" fill="#575757"/>
      </svg>
    </div>
    <div id="ctrl-close" @click="switch_btn(this.$route.name === 'main'?'closeAll':'close')">
      <svg width="11" height="11" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8.00346 7.00813L13.3107 1.70104C13.5787 1.43306 13.5787 0.991492 13.3107 0.723513L13.2817 0.694523C13.0138 0.426543 12.5722 0.426543 12.3042 0.694523L6.99694 6.00904L1.68985 0.694523C1.42187 0.426543 0.980308 0.426543 0.712328 0.694523L0.683338 0.723513C0.408288 0.991492 0.408288 1.43306 0.683338 1.70104L5.99061 7.00831L0.683338 12.3154C0.415536 12.5834 0.415536 13.0249 0.683338 13.2929L0.712328 13.3219C0.980308 13.5899 1.42187 13.5899 1.68985 13.3219L6.99694 8.01465L12.3042 13.3217C12.5722 13.5897 13.0138 13.5897 13.2817 13.3217L13.3107 13.2928C13.5787 13.0248 13.5787 12.5832 13.3107 12.3152L8.00346 7.00813Z" fill="#575757"/>
      </svg>
    </div>
  </div>
</template>

<script lang="ts">
import {defineComponent, ref} from "vue";

export default defineComponent({
  name: "WinCtrlBar",
  setup() {
    let fix = ref(false)
    return{
      fix
    }
  },
  mounted() {
  },
  methods: {
    switch_btn(mState: String){
      window.$ipc.send("btn_switch", mState);
    },
    setFix(){
      this.fix = !this.fix
      window.$ipc.send("btn_switch", 'fix');
    }
  }
})

</script>

<style lang="scss">
.WinCtrlBar{
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  -webkit-app-region: no-drag;
  div{
    height: 100%;
    width: 45px;
    display: flex;
    justify-content: center;
    align-items: center;
    svg{
      width: 1.2rem;
      height: 1.2rem;
    }
    &:hover{
      background-color: rgba(198, 198, 198,1);
    }
  }
}
#ctrl-fix{
  svg{
    width: 1rem;
    height: 1rem;
  }
}
.fix{
  svg{
    fill: rgba(12, 125, 157,1)
  }
}
#ctrl-close{
  svg{
    width: 1rem;
    height: 1rem;
  }
}
</style>