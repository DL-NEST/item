import{m as z}from"./hash.browser.esm.beaabd14.js";import{d as $,p as q,q as b,x as B,y as g,z as k,A as L}from"./index.5649565c.js";function N(t){let e=0;for(let n=0;n<t.length;++n)t[n]==="&"&&++e;return e}const A=/\s*,(?![^(]*\))\s*/g,P=/\s+/g;function M(t,e){const n=[];return e.split(A).forEach(r=>{let u=N(r);if(u){if(u===1){t.forEach(o=>{n.push(r.replace("&",o))});return}}else{t.forEach(o=>{n.push((o&&o+" ")+r)});return}let i=[r];for(;u--;){const o=[];i.forEach(s=>{t.forEach(f=>{o.push(s.replace("&",f))})}),i=o}i.forEach(o=>n.push(o))}),n}function O(t,e){const n=[];return e.split(A).forEach(r=>{t.forEach(u=>{n.push((u&&u+" ")+r)})}),n}function W(t){let e=[""];return t.forEach(n=>{n=n&&n.trim(),n&&(n.includes("&")?e=M(e,n):e=O(e,n))}),e.join(", ").replace(P," ")}const K=/[A-Z]/g;function S(t){return t.replace(K,e=>"-"+e.toLowerCase())}function U(t,e="  "){return typeof t=="object"&&t!==null?` {
`+Object.entries(t).map(n=>e+`  ${S(n[0])}: ${n[1]};`).join(`
`)+`
`+e+"}":`: ${t};`}function Z(t,e,n){return typeof t=="function"?t({context:e.context,props:n}):t}function E(t,e,n,r){if(!e)return"";const u=Z(e,n,r);if(!u)return"";if(typeof u=="string")return`${t} {
${u}
}`;const i=Object.keys(u);if(i.length===0)return n.config.keepEmptyBlock?t+` {
}`:"";const o=t?[t+" {"]:[];return i.forEach(s=>{const f=u[s];if(s==="raw"){o.push(`
`+f+`
`);return}s=S(s),f!=null&&o.push(`  ${s}${U(f)}`)}),t&&o.push("}"),o.join(`
`)}function x(t,e,n){!t||t.forEach(r=>{if(Array.isArray(r))x(r,e,n);else if(typeof r=="function"){const u=r(e);Array.isArray(u)?x(u,e,n):u&&n(u)}else r&&n(r)})}function _(t,e,n,r,u,i){const o=t.$;!o||typeof o=="string"?e.push(o):typeof o=="function"?e.push(o({context:r.context,props:u})):(o.before&&o.before(r.context),!o.$||typeof o.$=="string"?e.push(o.$):o.$&&e.push(o.$({context:r.context,props:u})));const s=W(e),f=E(s,t.props,r,u);i&&f&&i.insertRule(f),!i&&f.length&&n.push(f),t.children&&x(t.children,{context:r.context,props:u},l=>{if(typeof l=="string"){const m=E(s,{raw:l},r,u);i?i.insertRule(m):n.push(m)}else _(l,e,n,r,u,i)}),e.pop(),o&&o.after&&o.after(r.context)}function j(t,e,n,r=!1){const u=[];return _(t,[],u,e,n,r?t.instance.__styleSheet:void 0),r?"":u.join(`

`)}function p(t){if(!t)return;const e=t.parentElement;e&&e.removeChild(t)}function v(t){return document.querySelector(`style[cssr-id="${t}"]`)}function D(t){const e=document.createElement("style");return e.setAttribute("cssr-id",t),e}window&&(window.__cssrContext={});function T(t){const e=t.getAttribute("mount-count");return e===null?null:Number(e)}function C(t,e){t.setAttribute("mount-count",String(e))}function w(t,e,n,r){const{els:u}=e;if(n===void 0)u.forEach(p),e.els=[];else{const i=v(n);if(i&&u.includes(i)){const o=T(i);r?o===null?console.error(`[css-render/unmount]: The style with target='${n}' is mounted in count mode.`):o<=1?(p(i),e.els=u.filter(s=>s!==i)):C(i,o-1):o!==null?console.error(`[css-render/unmount]: The style with target='${n}' is mounted in no-count mode.`):(p(i),e.els=u.filter(s=>s!==i))}}}function F(t,e){t.push(e)}function G(t,e,n,r,u,i,o,s,f){if(o&&!f){if(n===void 0){console.error("[css-render/mount]: `id` is required in `boost` mode.");return}const a=window.__cssrContext;a[n]||(a[n]=!0,j(e,t,r,o));return}let l;const{els:m}=e;let d;if(n===void 0&&(d=e.render(r),n=z(d)),f){f(n,d!=null?d:e.render(r));return}const c=v(n);if(s||c===null){if(l=c===null?D(n):c,d===void 0&&(d=e.render(r)),l.textContent=d,c!==null)return;if(u){const a=document.head.getElementsByTagName("style")[0]||null;document.head.insertBefore(l,a)}else document.head.appendChild(l);i&&C(l,1),F(m,l)}else{const a=T(c);i?a===null?console.error(`[css-render/mount]: The style with id='${n}' has been mounted in no-count mode.`):C(c,a+1):a!==null&&console.error(`[css-render/mount]: The style with id='${n}' has been mounted in count mode.`)}return c!=null?c:l}function H(t){return j(this,this.instance,t)}function J(t={}){const{target:e,id:n,ssr:r,props:u,count:i=!1,head:o=!1,boost:s=!1,force:f=!1}=t;return G(this.instance,this,n!=null?n:e,u,o,i,s,f,r)}function Q(t={}){const{id:e,target:n,delay:r=0,count:u=!1}=t;r===0?w(this.instance,this,e!=null?e:n,u):setTimeout(()=>w(this.instance,this,e!=null?e:n,u),r)}const h=function(t,e,n,r){return{instance:t,$:e,props:n,children:r,els:[],render:H,mount:J,unmount:Q}},V=function(t,e,n,r){return Array.isArray(e)?h(t,{$:null},null,e):Array.isArray(n)?h(t,e,null,n):Array.isArray(r)?h(t,e,n,r):h(t,e,n,null)};function X(t={}){let e=null;const n={c:(...r)=>V(n,...r),use:(r,...u)=>r.install(n,...u),find:v,context:{},config:t,get __styleSheet(){if(!e){const r=document.createElement("style");return document.head.appendChild(r),e=document.styleSheets[document.styleSheets.length-1],e}return e}};return n}const{c:y}=X(),Y=y(".xicon",{width:"1em",height:"1em",display:"inline-flex"},[y("svg",{width:"1em",height:"1em"}),y("svg:not([fill])",{fill:"currentColor"})]),ee=()=>{Y.mount({id:"xicons-icon"})},R={size:[String,Number],color:String,tag:String},I=Symbol("IconConfigInjection");$({name:"IconConfigProvider",props:R,setup(t,{slots:e}){return q(I,t),()=>b(e,"default")}});const ne="span",oe=$({name:"Icon",props:R,setup(t,{slots:e}){const n=B(I,null),r=g(()=>{var o;const s=(o=t.size)!==null&&o!==void 0?o:n==null?void 0:n.size;if(s!==void 0)return typeof s=="number"||/^\d+$/.test(s)?`${s}px`:s}),u=g(()=>{const{color:o}=t;return o===void 0?n?n.color:void 0:o}),i=g(()=>{var o;const{tag:s}=t;return s===void 0?(o=n==null?void 0:n.tag)!==null&&o!==void 0?o:ne:s});return k(()=>{ee()}),()=>L(i.value,{class:"xicon",style:{color:u.value,fontSize:r.value}},[b(e,"default")])}});export{oe as I};
